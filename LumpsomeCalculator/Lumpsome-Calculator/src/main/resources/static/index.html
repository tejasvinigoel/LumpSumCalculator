<!DOCTYPE html>
<html>
    <head>
        <title> Financial Calculator</title>
        <link rel="stylesheet" href="../../../../../../resources\css\style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=LXGW+WenKai+Mono+TC&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="../../../../../../vendors/css/normalize.css">
        <link rel="stylesheet" href="../../../../../../vendors/css/grid.css">
        </head>
    <body>
        <div class="row">
            <h1>Financial Calculator</h1>
        </div>
        <main>
            <div class="row">
                <h2>Lump Sum Calculator</h2>
                <form id="lumpSumForm">
                    <div class="form-group">
                        <label for="principal">Principal:</label>
                        <input type="number" id="principal" name="principal" required>
                    </div>
                    <div class="form-group">
                        <label for="rate">Rate (%):</label>
                        <input type="number" id="rate" name="rate" required>
                    </div>
                    <div class="form-group">
                        <label for="time">Time (years):</label>
                        <input type="number" id="time" name="time" required>
                    </div>
                    <button type="submit">Calculate</button>
                </form>
                <div id="result" class="result"></div>
            </div>
        </main>
    
        <script>
            document.getElementById('lumpSumForm').onsubmit = async function(event) {
                event.preventDefault();
    
                const principal = document.getElementById('principal').value;
                const rate = document.getElementById('rate').value;
                const time = document.getElementById('time').value;
    
                const response = await fetch('http://localhost:8080/api/calculate', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ principal, rate, time })
                });
    
                const data = await response.json();
                document.getElementById('result').innerText = response.ok ? `Amount: ${data.amount.toFixed(2)}` : `Error: ${data.error}`;
            }
        </script>
    </body>